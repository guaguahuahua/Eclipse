package com.util;

import java.io.BufferedInputStream;
import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStreamReader;
import java.io.Reader;
import java.net.HttpURLConnection;
import java.net.MalformedURLException;
import java.net.URL;

public class NetWork {
	
	private HttpURLConnection urlConn;
	private URL url;
//	String location="http://211.67.107.38/jwweb/ZNPK/TeacherKBFB.aspx";
	String location="http:www.baidu.com";
	
	/**
	 * 获得URL链接
	 */
	public void connect() {
		try {
			url=new URL(location);
			urlConn=(HttpURLConnection) url.openConnection();
			urlConn.setConnectTimeout(5000);
			urlConn.setDoInput(true);
			urlConn.setDoOutput(true);
			urlConn.setRequestMethod("POST");
			urlConn.addRequestProperty("Content-Type", "application/x");
		} catch (MalformedURLException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		} catch(IOException e) {
			e.printStackTrace();
		}
	}
	
	/**
	 * 根据url链接获得HTML页面
	 */
	public void getHtml() {
		BufferedReader br=null;
		StringBuilder sb=new StringBuilder();
		try {
			br=new BufferedReader(new InputStreamReader(urlConn.getInputStream()));
			String line="";
			while(br.readLine() != null) {
				line=br.readLine();
				sb.append(line);
			}			
		} catch (IOException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		}finally {
			
			if(br!=null) {
				try {
					br.close();				
				} catch (IOException e) {
					// TODO Auto-generated catch block
					e.printStackTrace();
				}
			}			
			urlConn.disconnect();
		}
		System.out.println(sb.toString());
	}
	
	public static void main(String []args) {
		NetWork net=new NetWork();
		net.connect();
		net.getHtml();
	}
}
